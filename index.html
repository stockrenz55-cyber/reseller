<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Reseller Panel</title>
<style>
body{
  background:url("https://images.unsplash.com/photo-1535223289827-42f1e9919769");
  background-size:cover;
  font-family:sans-serif;
}
.card{
  width:360px;
  margin:60px auto;
  padding:20px;
  backdrop-filter:blur(16px);
  background:rgba(0,0,0,.55);
  border-radius:15px;
  box-shadow:0 0 30px cyan;
}
input,select,button{
  width:100%;
  margin:6px 0;
  padding:10px;
  border-radius:10px;
  border:none;
}
button{
  background:transparent;
  color:cyan;
  border:1px solid cyan;
  box-shadow:0 0 12px cyan;
}
button:hover{box-shadow:0 0 25px cyan}
pre{color:#0ff;font-size:12px;max-height:200px;overflow:auto}
</style>
</head>
<body>

<div class="card">
<h3 style="color:cyan">LOGIN</h3>
<input id="u" placeholder="Username">
<input id="p" type="password" placeholder="Password">
<button onclick="login()">LOGIN</button>

<hr>

<h3 style="color:cyan">CREATE PANEL</h3>
<input id="pu" placeholder="Username Panel">
<select id="paket">
<option>1gb</option><option>2gb</option><option>3gb</option>
<option>4gb</option><option>5gb</option>
<option>6gb</option><option>7gb</option>
<option>8gb</option><option>9gb</option>
<option>10gb</option><option>unlimited</option>
</select>
<button onclick="createPanel()">CREATE</button>

<pre id="log"></pre>
</div>

<script>
let token="";
const deviceId=navigator.userAgent+screen.width+screen.height;

function log(msg){logEl.textContent+=msg+"\n"}

async function login(){
  log("Login...");
  const r=await fetch("/login",{method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify({username:u.value,password:p.value,deviceId})});
  const d=await r.json();
  if(!r.ok)return log("ERROR: "+JSON.stringify(d));
  token=d.token;
  log("Login sukses");
}

async function createPanel(){
  log("Create panel...");
  const r=await fetch("/panel/create",{method:"POST",
  headers:{Authorization:"Bearer "+token,"Content-Type":"application/json"},
  body:JSON.stringify({username:pu.value,paket:paket.value})});
  log(JSON.stringify(await r.json(),null,2));
}
</script>

</body>
</html>
