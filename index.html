<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Neon Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;font-family:'Poppins',sans-serif}

body{
margin:0;
min-height:100vh;
background:
linear-gradient(180deg,rgba(0,0,0,.6),rgba(0,0,0,.9)),
url("https://images.unsplash.com/photo-1535223289827-42f1e9919769") center/cover no-repeat;
display:flex;
align-items:center;
justify-content:center;
color:#fff
}

.glass{
width:460px;
padding:30px;
border-radius:22px;
background:rgba(255,255,255,.08);
backdrop-filter:blur(18px);
box-shadow:
0 0 25px rgba(0,255,255,.25),
inset 0 0 20px rgba(0,255,255,.15);
animation:fade .8s ease
}

.neon{
text-align:center;
color:#7df9ff;
text-shadow:
0 0 6px #7df9ff,
0 0 20px #00ffff,
0 0 40px #00ffff
}

input,select{
width:100%;
margin-top:12px;
padding:12px;
border-radius:14px;
border:1px solid rgba(0,255,255,.4);
background:rgba(0,0,0,.45);
color:#fff;
outline:none;
box-shadow:0 0 10px rgba(0,255,255,.3)
}

select option{background:#000}

button{
width:100%;
margin-top:15px;
padding:12px;
border-radius:14px;
border:1px solid #00ffff;
background:transparent;
color:#00ffff;
font-weight:500;
cursor:pointer;
transition:.3s;
text-shadow:0 0 5px #00ffff;
box-shadow:0 0 15px rgba(0,255,255,.5)
}

button:hover{
background:rgba(0,255,255,.15);
box-shadow:0 0 30px #00ffff;
transform:translateY(-2px)
}

.card{
margin-top:20px;
padding:16px;
border-radius:18px;
background:rgba(0,0,0,.35);
border:1px solid rgba(0,255,255,.4);
box-shadow:inset 0 0 15px rgba(0,255,255,.2);
animation:slide .6s ease
}

.hidden{display:none}

@keyframes fade{from{opacity:0;transform:scale(.9)}to{opacity:1}}
@keyframes slide{from{opacity:0;transform:translateY(30px)}to{opacity:1}}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginBox" class="glass">
<h2 class="neon">LOGIN PANEL</h2>
<input id="username" placeholder="Username">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">LOGIN</button>
<p id="loginMsg" style="text-align:center;color:#ff8080"></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="glass hidden">
<h2 class="neon">DASHBOARD</h2>

<div class="card">
<h3 class="neon">CREATE PANEL</h3>

<input id="panelUser" placeholder="Username Panel">

<select id="paket" onchange="updateSpec()">
<option value="">Pilih Paket</option>
<option value="1gb">1 GB</option>
<option value="2gb">2 GB</option>
<option value="3gb">3 GB</option>
<option value="4gb">4 GB</option>
<option value="5gb">5 GB</option>
<option value="6gb">6 GB</option>
<option value="7gb">7 GB</option>
<option value="8gb">8 GB</option>
<option value="9gb">9 GB</option>
<option value="10gb">10 GB</option>
<option value="unlimited">Unlimited</option>
</select>

<div id="review" class="card hidden">
<b>REVIEW SPESIFIKASI</b><br><br>
RAM : <span id="rRam"></span><br>
DISK : <span id="rDisk"></span><br>
CPU : <span id="rCpu"></span>
</div>

<button onclick="createPanel()">CREATE PANEL</button>
</div>

<div id="resultBox" class="card hidden"></div>

<button onclick="logout()">LOGOUT</button>
</div>

<script>
/* ================= CONFIG ================= */
const API = location.origin

const specs = {
  "1gb":{ram:"1 GB",disk:"1 GB",cpu:"40%"},
  "2gb":{ram:"2 GB",disk:"1 GB",cpu:"60%"},
  "3gb":{ram:"3 GB",disk:"2 GB",cpu:"80%"},
  "4gb":{ram:"4 GB",disk:"2 GB",cpu:"100%"},
  "5gb":{ram:"5 GB",disk:"3 GB",cpu:"120%"},
  "6gb":{ram:"6 GB",disk:"3 GB",cpu:"140%"},
  "7gb":{ram:"7 GB",disk:"4 GB",cpu:"160%"},
  "8gb":{ram:"8 GB",disk:"4 GB",cpu:"180%"},
  "9gb":{ram:"9 GB",disk:"5 GB",cpu:"200%"},
  "10gb":{ram:"10 GB",disk:"5 GB",cpu:"220%"},
  "unlimited":{ram:"Unlimited",disk:"Unlimited",cpu:"Unlimited"}
}

/* ================= UI ================= */
function updateSpec(){
  if(!paket.value) return review.classList.add("hidden")
  review.classList.remove("hidden")
  rRam.innerText = specs[paket.value].ram
  rDisk.innerText = specs[paket.value].disk
  rCpu.innerText = specs[paket.value].cpu
}

/* ================= AUTH ================= */
function login(){
  fetch(API+"/login",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      username:username.value,
      password:password.value,
      device:navigator.userAgent
    })
  })
  .then(r=>r.json())
  .then(d=>{
    if(d.token){
      localStorage.token = d.token
      loginBox.classList.add("hidden")
      dashboard.classList.remove("hidden")
    } else {
      loginMsg.innerText = d.msg || "Login gagal"
    }
  })
}

function authFetch(url,opt={}){
  return fetch(API+url,{
    ...opt,
    headers:{
      "Content-Type":"application/json",
      "Authorization":localStorage.token
    }
  }).then(r=>r.json())
}

/* ================= CREATE PANEL ================= */
function createPanel(){
  if(!panelUser.value || !paket.value) return alert("Lengkapi data")

  authFetch("/create",{
    method:"POST",
    body:JSON.stringify({
      username:panelUser.value,
      paket:paket.value
    })
  })
  .then(d=>{
    if(d.msg) return alert(d.msg)

    resultBox.classList.remove("hidden")
    resultBox.innerHTML = `
      <h3 class="neon">PANEL CREATED</h3>
      <b>Server ID</b> : ${d.server.id}<br>
      <b>Username</b> : ${d.user.username}<br>
      <b>Password</b> : ${panelUser.value}001<br>
      <b>RAM</b> : ${specs[paket.value].ram}<br>
      <b>Disk</b> : ${specs[paket.value].disk}<br>
      <b>CPU</b> : ${specs[paket.value].cpu}<br><br>
      <a href="${d.panel_url}" target="_blank" style="color:#00ffff">
        OPEN PANEL
      </a>
    `
  })
}

/* ================= LOGOUT ================= */
function logout(){
  localStorage.clear()
  location.reload()
}

/* ================= AUTO LOGIN ================= */
if(localStorage.token){
  loginBox.classList.add("hidden")
  dashboard.classList.remove("hidden")
}
</script>

</body>
</html>